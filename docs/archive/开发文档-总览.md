# 《关都文字对战：初始冒险》开发文档 - 总览

## 📖 文档目的

这是一份**给开发者看的说明书**，它会告诉你：
- 用什么技术做这个游戏
- 游戏的每个功能怎么实现
- 代码怎么组织
- 一步步从0到1搭建游戏

**就像搭乐高一样，这份文档会告诉你每一块积木放在哪里！**

---

## 🎯 项目概述

### 游戏定位
- **名称**：《关都文字对战：初始冒险》
- **类型**：跨端网页游戏（手机+电脑都能玩）
- **核心玩法**：1V1回合制文字对战 + 宝可梦养成
- **特色**：战斗后自动满血，无需恢复道具，轻量化快节奏

### 核心闭环
```
选择初始宝可梦
    ↓
点击"开始战斗"
    ↓
野生宝可梦出现（等级±2）
    ↓
选择技能对战（1攻1辅起步）
    ↓
战斗结束自动回满血
    ↓
获得经验值 → 升级 → 解锁技能 → 进化
    ↓
继续挑战更强的对手
```

---

## 🛠️ 技术选择（重要决定！）

### 方案A：纯HTML+CSS+JavaScript（推荐新手）

**推荐指数**：⭐⭐⭐⭐⭐

**为什么选这个？**
- ✅ **超级简单**：不需要学React/Vue等框架
- ✅ **零配置**：双击HTML文件就能运行
- ✅ **易部署**：放到任何静态网站托管（GitHub Pages、Vercel）就能玩
- ✅ **跨端天然支持**：手机浏览器、电脑浏览器都能打开
- ✅ **调试方便**：F12打开浏览器控制台就能看日志

**需要的技术**：
- HTML：搭建页面结构（就像房子的骨架）
- CSS：美化页面样式（就像房子的装修）
- JavaScript：实现游戏逻辑（就像房子的电路系统）
- LocalStorage：保存游戏进度（就像浏览器的"记忆卡"）

**文件结构预览**：
```
pokemon-game/
├── index.html          # 游戏主页面（你看到的网页）
├── styles.css          # 样式文件（让网页好看）
├── scripts/
│   ├── data.js         # 游戏数据（所有宝可梦和技能的信息）
│   ├── pokemon.js      # 宝可梦类（宝可梦的"设计图"）
│   ├── battle.js       # 战斗系统（对战规则和伤害计算）
│   ├── ui.js           # 界面控制（更新显示、响应点击）
│   └── main.js         # 主程序（启动游戏、流程控制）
└── assets/
    └── fonts/          # 字体文件（可选）
```

---

### 方案B：React（推荐有基础的开发者）

**推荐指数**：⭐⭐⭐⭐

**为什么选这个？**
- ✅ **状态管理好**：用useState管理战斗状态很清晰
- ✅ **组件化**：战斗界面、技能按钮可以拆成独立组件
- ✅ **易扩展**：后续加功能更方便
- ⚠️ **学习成本高**：需要懂React、Hooks、npm等

**需要的技术**：
- React框架
- useState、useEffect钩子
- npm/yarn包管理
- Vite/Create React App脚手架

**不推荐理由**：对于这个轻量级文字游戏，React有点"大材小用"。

---

### 最终选择：方案A（纯HTML+CSS+JavaScript）

**理由总结**：
1. 游戏逻辑简单，不需要复杂框架
2. 适合快速开发MVP版本
3. 部署超级简单，用户双击就能玩
4. 手机和电脑天然兼容

**接下来的文档都会基于这个方案！**

---

## 📁 文件结构详解

```
pokemon-game/
│
├── index.html              # 【主页面】游戏的入口，所有内容都在这里显示
│                           # 包含：标题、文字显示区、技能按钮、状态栏
│
├── styles.css              # 【样式文件】控制游戏的外观
│                           # 包含：按钮样式、文字颜色、响应式布局（手机/电脑适配）
│
├── scripts/
│   ├── data.js             # 【游戏数据】所有宝可梦、技能、经验表的数据
│   │                       # 例如：小火龙的HP、攻击、技能列表
│   │
│   ├── pokemon.js          # 【宝可梦类】定义宝可梦的"属性"和"行为"
│   │                       # 例如：如何升级、如何进化、如何学习技能
│   │
│   ├── move.js             # 【技能类】定义技能的"属性"和"效果"
│   │                       # 例如：火花的威力、是否克制、如何降防御
│   │
│   ├── battle.js           # 【战斗系统】处理战斗的所有逻辑
│   │                       # 例如：计算伤害、判断克制、回合结算
│   │
│   ├── ui.js               # 【界面控制】更新屏幕显示、响应用户点击
│   │                       # 例如：点击"火花"按钮 → 触发攻击 → 更新文字显示
│   │
│   ├── gameState.js        # 【游戏状态】保存当前游戏的所有状态
│   │                       # 例如：玩家的宝可梦、当前等级、是否在战斗中
│   │
│   └── main.js             # 【主程序】启动游戏、控制整体流程
│                           # 例如：显示初始选择界面 → 开始战斗 → 战后回血
│
├── assets/                 # 【资源文件夹】存放字体、图片等（可选）
│   └── fonts/
│       └── PokemonFont.ttf # 宝可梦像素字体（可选）
│
└── README.md               # 【使用说明】告诉玩家怎么玩游戏
```

---

## 🧩 核心模块概览

### 1. 数据层（data.js）
**作用**：存储所有静态数据
- 151只第一世代宝可梦的数据（MVP版先做10-20只）
- 所有技能的数据（攻击力、属性、效果）
- 经验值等级表（1级到50级分别需要多少经验）
- 属性克制表（火克草、水克火等）

**比喻**：就像游戏的"数据库"，所有信息都从这里查。

---

### 2. 宝可梦类（pokemon.js）
**作用**：定义宝可梦的"模板"
- 属性：名字、等级、HP、攻击、防御、属性、经验值
- 方法：升级()、进化()、学习技能()、战斗后回血()

**比喻**：就像"饼干模具"，用同一个模具可以做出小火龙、皮卡丘等不同的"饼干"。

---

### 3. 技能类（move.js）
**作用**：定义技能的"模板"
- 属性：名字、属性、威力、PP值、效果类型（攻击/辅助）
- 方法：计算伤害()、应用辅助效果()

**比喻**：就像"技能卡"，每张卡有不同的效果。

---

### 4. 战斗系统（battle.js）
**作用**：处理战斗的所有逻辑
- 生成野生宝可梦（等级±2）
- 计算伤害（攻击-防御）×克制倍数×随机数
- 判断胜负
- 分发经验值
- 战后自动回血

**比喻**：就像"裁判"，决定谁赢谁输。

---

### 5. 界面控制（ui.js）
**作用**：让用户能看到和操作游戏
- 显示文字（"野生的绿毛虫出现了！"）
- 更新血条
- 显示技能按钮
- 响应点击事件

**比喻**：就像"屏幕和手柄"，玩家通过它看和操作游戏。

---

### 6. 游戏状态（gameState.js）
**作用**：记录当前游戏的状态
- 玩家的宝可梦是谁
- 当前等级、经验、HP
- 是否在战斗中
- 野生宝可梦是谁

**比喻**：就像"存档"，记录你玩到哪里了。

---

### 7. 主程序（main.js）
**作用**：控制游戏的整体流程
- 初始化游戏
- 显示初始选择界面
- 处理"开始战斗"按钮点击
- 加载/保存进度

**比喻**：就像"导演"，指挥整个游戏的流程。

---

## 🚀 开发顺序（分6个阶段）

### 阶段1：搭建基础框架（1-2天）
**目标**：能在浏览器里看到页面
- ✅ 创建HTML页面结构
- ✅ 创建CSS基础样式
- ✅ 创建JavaScript文件骨架
- ✅ 测试能否在浏览器打开

**完成标志**：打开index.html能看到"关都文字对战"标题和空白的游戏区域。

---

### 阶段2：实现数据层（1-2天）
**目标**：定义所有游戏数据
- ✅ 创建3只初始宝可梦数据（御三家）
- ✅ 创建5-10只野生宝可梦数据
- ✅ 创建10-15个技能数据
- ✅ 创建属性克制表
- ✅ 创建经验值等级表

**完成标志**：能在控制台打印出小火龙的完整数据。

---

### 阶段3：实现宝可梦和技能类（2-3天）
**目标**：让宝可梦和技能"活起来"
- ✅ 创建Pokemon类（构造函数、属性、方法）
- ✅ 实现升级功能（经验值、属性提升）
- ✅ 实现进化功能（16级→火恐龙）
- ✅ 创建Move类（技能效果）
- ✅ 测试创建一只小火龙并让它升级到16级

**完成标志**：能在控制台创建小火龙，手动加经验让它升级到16级并进化成火恐龙。

---

### 阶段4：实现战斗系统（3-4天）
**目标**：能打一场完整的1V1对战
- ✅ 创建Battle类
- ✅ 实现生成野生宝可梦功能（等级±2）
- ✅ 实现伤害计算（攻击-防御）×克制
- ✅ 实现辅助技能效果（降防御、升防御）
- ✅ 实现回合结算
- ✅ 实现战后自动回血
- ✅ 实现经验分发

**完成标志**：能在控制台模拟一场战斗，看到"小火龙使用火花"、"造成25点伤害"等日志。

---

### 阶段5：实现界面和交互（3-4天）
**目标**：让玩家能在网页上操作游戏
- ✅ 实现初始选择界面（选择御三家）
- ✅ 实现主界面（显示宝可梦信息、"开始战斗"按钮）
- ✅ 实现战斗界面（显示双方状态、技能按钮）
- ✅ 实现文字显示区（战斗日志）
- ✅ 实现点击技能按钮触发攻击
- ✅ 实现动态更新血条和状态

**完成标志**：能在网页上点击"开始战斗"，选择技能，看到战斗过程，最后看到"战斗结束！HP已回满！"

---

### 阶段6：优化和跨端适配（2-3天）
**目标**：让游戏在手机和电脑上都好用
- ✅ 响应式布局（手机屏幕自动适配）
- ✅ 触摸优化（按钮尺寸≥65px）
- ✅ 字体大小适配（手机≥18px）
- ✅ 实现LocalStorage保存进度
- ✅ 添加音效（可选）
- ✅ 优化文字显示速度

**完成标志**：用手机和电脑浏览器打开游戏，都能流畅操作。

---

## 🎨 界面设计规范

### 主界面布局
```
┌─────────────────────────────────┐
│  《关都文字对战：初始冒险》      │ <- 标题（24px）
├─────────────────────────────────┤
│ 我的宝可梦：                     │
│ 🔥 小火龙 Lv.8                   │
│ ❤️❤️❤️❤️❤️ 60/60 HP            │ <- 状态栏
├─────────────────────────────────┤
│                                  │
│  【文字显示区】                   │
│  准备开始新的冒险！               │ <- 战斗日志（18px）
│                                  │
│                                  │
├─────────────────────────────────┤
│  [开始战斗]  [宝可梦中心]         │ <- 功能按钮（60px高）
└─────────────────────────────────┘
```

### 战斗界面布局
```
┌─────────────────────────────────┐
│ 野生的 绿毛虫 Lv.6               │
│ ❤️❤️❤️🖤🖤 35/60 HP             │ <- 敌方状态
├─────────────────────────────────┤
│                                  │
│ "野生的绿毛虫出现了！"            │
│ "轮到你了！选择你的行动："        │ <- 战斗日志
│                                  │
├─────────────────────────────────┤
│ 我的 小火龙 Lv.8                 │
│ ❤️❤️❤️❤️❤️ 60/60 HP            │ <- 我方状态
├─────────────────────────────────┤
│ [火花] [摇尾巴]                   │
│ 火系 威力40  降低对方防御         │ <- 技能按钮
└─────────────────────────────────┘
```

### 颜色方案
- **背景色**：#F5F5DC（米白色，护眼）
- **主文字**：#2C3E50（深灰色）
- **按钮主色**：#3498DB（蓝色）
- **按钮悬停**：#2980B9（深蓝色）
- **HP条**：#E74C3C（红色）
- **经验条**：#F39C12（橙色）
- **属性颜色**：
  - 火系：#F08030
  - 水系：#6890F0
  - 草系：#78C850
  - 电系：#F8D030

---

## 💾 数据保存方案

### 使用LocalStorage
**为什么用这个？**
- 浏览器自带，不需要服务器
- 简单易用，4行代码搞定
- 适合单机游戏

### 保存什么数据？
```javascript
{
  "playerPokemon": {
    "name": "小火龙",
    "level": 8,
    "currentHP": 60,
    "maxHP": 60,
    "attack": 55,
    "defense": 43,
    "exp": 120,
    "moves": ["火花", "摇尾巴", "龙之怒"]
  },
  "gameProgress": {
    "battlesWon": 15,
    "totalBattles": 20
  }
}
```

### 保存和读取代码（示例）
```javascript
// 保存进度
function saveGame(gameData) {
  localStorage.setItem('pokemonGameSave', JSON.stringify(gameData));
}

// 读取进度
function loadGame() {
  const saveData = localStorage.getItem('pokemonGameSave');
  return saveData ? JSON.parse(saveData) : null;
}
```

---

## 🧪 测试策略

### 阶段性测试
每完成一个阶段，必须测试：
1. **数据层测试**：打印数据，确保格式正确
2. **类功能测试**：创建宝可梦，测试升级/进化
3. **战斗测试**：模拟100场战斗，检查是否有Bug
4. **界面测试**：点击所有按钮，确保没有错误
5. **跨端测试**：在手机/电脑/平板上测试

### 关键测试用例
- ✅ 小火龙从1级升到36级进化成喷火龙
- ✅ 火系打草系伤害翻倍
- ✅ 战斗失败后HP自动回满
- ✅ 学满4个技能后不能再学
- ✅ 野生宝可梦等级始终在±2范围内
- ✅ 手机屏幕上按钮能正常点击

---

## 📚 学习资源

### 必学知识
1. **HTML基础**：标签、结构
2. **CSS基础**：选择器、布局、响应式
3. **JavaScript基础**：变量、函数、类、事件
4. **DOM操作**：querySelector、addEventListener

### 推荐学习路径
1. MDN Web文档（免费）
2. freeCodeCamp（免费）
3. 宝可梦对战机制Wiki（了解游戏规则）

---

## 🎯 下一步

**其他详细文档**：
- 📊 **数据结构设计文档**：详细定义所有数据格式
- 💻 **前端界面开发文档**：HTML/CSS/JS具体代码实现
- ⚔️ **战斗系统开发文档**：伤害计算、回合流程详解
- 📝 **开发步骤清单**：每一步具体要做什么

**现在开始创建这些详细文档！**

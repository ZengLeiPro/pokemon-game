# 关都文字对战：初始冒险

一个基于浏览器的宝可梦文字对战游戏，使用纯HTML、CSS和JavaScript实现。

## 游戏特色

- 🎮 **回合制战斗系统**：经典的1v1对战玩法
- 🔥 **御三家选择**：小火龙、杰尼龟、妙蛙种子任你选择
- ⚡ **属性克制系统**：火克草、水克火、草克水等完整克制关系
- 📈 **成长系统**：经验获取、等级提升、宝可梦进化
- 🏪 **商店系统**：购买伤药和精灵球
- ⚪ **捕捉系统**：捕捉野生宝可梦扩充队伍
- 👥 **队伍管理**：最多携带6只宝可梦，支持切换出战
- 📦 **宝可梦盒子**：存放捕获的宝可梦（无限容量）
- 🎒 **道具系统**：使用伤药恢复HP，使用精灵球捕捉
- 👨‍🏫 **训练家对战**：挑战8位训练家，赢取奖金
- 💾 **自动保存**：游戏进度自动保存到浏览器本地存储
- 📱 **跨端兼容**：支持电脑、平板、手机浏览器

## 快速开始

### 方法1：直接打开
1. 下载或克隆这个仓库
2. 双击打开 `index.html` 文件
3. 开始游戏！

### 方法2：使用本地服务器
```bash
# 如果你有Python 3
python -m http.server 8000

# 或者使用Node.js的http-server
npx http-server

# 然后在浏览器访问 http://localhost:8000
```

## 游戏玩法

### 开始游戏
1. 选择你的初始宝可梦（小火龙/杰尼龟/妙蛙种子）
2. 获得新手礼包（5个伤药 + 5个精灵球）
3. 开始你的冒险！

### 战斗系统
- **攻击技能**：造成伤害，受属性克制影响
- **辅助技能**：提升己方属性或降低对方属性
- **使用道具**：战斗中可使用伤药恢复HP，使用精灵球捕捉野生宝可梦
- **逃跑**：从野生战斗中逃离（训练家战斗不可逃跑）
- **属性克制**：
  - 火系 克制 草系（2倍伤害）
  - 水系 克制 火系（2倍伤害）
  - 草系 克制 水系（2倍伤害）
  - 电系 克制 水系、飞行系（2倍伤害）
  - 电系对地面系无效（0倍伤害）

### 捕捉系统
- **捕捉率计算**：基于野生宝可梦的HP、等级和精灵球类型
- **捕捉成功**：
  - 队伍未满（<6只）：直接加入队伍
  - 队伍已满：传送到宝可梦盒子
- **精灵球类型**：
  - 精灵球（200💰）：基础捕捉率 1.0x
  - 超级球（600💰）：捕捉率 1.5x
  - 高级球（1200💰）：捕捉率 2.0x
  - 大师球（99999💰）：必定成功

### 商店系统
- **药品**：
  - 伤药（300💰）：恢复20 HP
  - 好伤药（700💰）：恢复50 HP
  - 超级伤药（1200💰）：恢复200 HP
  - 全满药（2500💰）：完全恢复HP
- **精灵球**：精灵球、超级球、高级球、大师球
- **购买**：花费金币购买道具，存入背包

### 队伍管理
- 最多携带6只宝可梦
- 在背包Tab中查看所有宝可梦
- 可切换出战宝可梦
- 可将宝可梦移至盒子（需保留至少1只）

### 宝可梦盒子
- 在服务Tab中管理盒子
- 查看捕获的所有宝可梦
- 可将盒子中的宝可梦加入队伍（队伍未满时）

### 成长系统
- 战胜野生宝可梦获得经验值（等级 × 5）
- 累积经验值可以升级
- 升级时提升HP、攻击、防御、速度属性
- 达到特定等级自动进化：
  - 小火龙 → 16级进化成火恐龙 → 36级进化成喷火龙
  - 杰尼龟 → 16级进化成卡咪龟 → 36级进化成水箭龟
  - 妙蛙种子 → 16级进化成妙蛙草 → 32级进化成妙蛙花

### 训练家对战
- 8位训练家可供挑战
- 难度随玩家等级调整
- 胜利获得奖金（基础奖金 + 等级奖金）
- 失败需支付奖金

### 金币系统
- **初始金币**：3000💰
- **获得方式**：战胜训练家
- **使用方式**：在商店购买道具
- **失败惩罚**：战败训练家需支付奖金

### 其他功能
- **宝可梦中心**：恢复队伍中所有宝可梦的HP
- **战绩统计**：记录胜场和总场数
- **本地保存**：游戏进度自动保存
- **存档迁移**：自动兼容旧版本存档

## 技术栈

- **前端**：纯HTML5 + CSS3 + JavaScript (ES6)
- **样式**：Tailwind CSS + 自定义样式
- **存储**：localStorage（浏览器本地存储）
- **无需后端**：完全离线可玩

## 项目结构

```
pokemon-game/
├── index.html                      # 游戏主页面
├── styles.css                      # 样式文件
├── scripts/
│   ├── data.js                    # 游戏数据（151只宝可梦、技能、属性克制表）
│   ├── move.js                    # Move类
│   ├── item.js                    # Item类和道具数据 ✨新增
│   ├── pokemon.js                 # Pokemon类
│   ├── npc.js                     # NPC和训练家系统
│   ├── battle.js                  # Battle类和AI系统
│   ├── gameState.js               # 游戏状态管理（包含队伍、背包、盒子）
│   ├── ui.js                      # UI控制模块
│   ├── shop.js                    # 商店系统 ✨新增
│   └── main.js                    # 主程序入口
├── pokemon_data_generated.json    # 151只宝可梦完整数据
├── pokemon_data_generated.js      # 151只宝可梦完整数据（JS格式）
├── 开发文档/                      # 完整的开发文档
└── README.md                      # 本文件
```

## 游戏数据

### 已实现的宝可梦
- **完整第一世代**：151只宝可梦全部实现
- **御三家**：小火龙系列、杰尼龟系列、妙蛙种子系列
- **野生宝可梦池**：100+种宝可梦可供捕捉
- **每只宝可梦包含**：
  - 完整属性（HP、攻击、防御、速度）
  - 属性成长值
  - 进化链定义
  - 技能学习表

### 训练家系统
- 8位训练家可供挑战
- 不同职业：短裤小子、虫捕少年、女训练家、野营小子、精英训练家
- 等级范围：4-15级

### 技能系统
- 攻击技能：火花、水枪、藤鞭、电击、撞击、啄等40+技能
- 辅助技能：摇尾巴（降防御）、缩入壳中（升防御）、瞪眼（降防御）等

### 道具系统
- 药品：伤药、好伤药、超级伤药、全满药
- 精灵球：精灵球、超级球、高级球、大师球

## 开发文档

项目包含完整的开发文档：
- `游戏规划.md` - 整体规划
- `开发文档-总览.md` - 技术选型和架构
- `开发文档-数据结构设计.md` - 数据格式定义
- `开发文档-战斗系统.md` - 战斗逻辑详解
- `开发文档-前端界面开发.md` - UI实现说明
- `开发步骤清单.md` - 分步开发指南

## 调试功能

打开浏览器控制台（F12），可以使用以下命令：

```javascript
// 查看游戏状态
gameState

// 重置游戏（清除存档）
resetGame()

// 查看当前宝可梦信息
getCurrentPokemon()

// 查看队伍
gameState.player.pokemonTeam

// 查看背包
gameState.player.bag

// 添加道具（仅测试用）
addItem('potion', 10)

// 添加金币（仅测试用）
addMoney(10000)
```

## 浏览器兼容性

支持所有现代浏览器：
- ✅ Chrome 90+
- ✅ Firefox 88+
- ✅ Safari 14+
- ✅ Edge 90+

## 游戏截图

### 主要功能
- ⚔️ 冒险：野外探险、训练家挑战
- 🎒 背包：查看队伍和道具
- 📖 图鉴：查看收集进度（规划中）
- 🏪 商店：购买药品和精灵球
- ⚙️ 服务：宝可梦中心、盒子管理、保存游戏

## 许可证

MIT License

## 贡献

欢迎提交Issue和Pull Request！

## 更新日志

### v3.0 (最新)
- ✅ 实现商店系统
- ✅ 实现道具系统（8种道具）
- ✅ 实现捕捉系统（完整捕捉率计算）
- ✅ 实现队伍管理（最多6只）
- ✅ 实现宝可梦盒子
- ✅ 实现训练家对战
- ✅ 151只宝可梦完整数据
- ✅ 新手礼包系统
- ✅ 存档自动迁移

### v2.0
- ✅ 完整战斗系统
- ✅ 属性克制系统
- ✅ 成长和进化系统
- ✅ 金币系统

### v1.0
- ✅ 基础战斗功能
- ✅ 御三家选择
- ✅ 本地存档

## 后续计划

- [ ] 图鉴系统完善（显示捕获的宝可梦）
- [ ] 道馆挑战模式
- [ ] 更多道具类型（状态恢复、能力提升等）
- [ ] 成就系统
- [ ] 音效和背景音乐
- [ ] 宝可梦图标/像素图
- [ ] 战斗动画效果
- [ ] 多周目系统
